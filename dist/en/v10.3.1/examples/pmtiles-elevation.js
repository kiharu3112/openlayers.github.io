"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7035],{94350:function(t,e,n){var a=n(32185),r=n(41564),o=n(96256),c=n(87240),i=n(2159);(0,n(25231).n0)();const s=new i.HC("https://pub-9288c68512ed46eca46ddcade307709b.r2.dev/protomaps-sample-datasets/terrarium_z9.pmtiles");function u(t,e){return["+",["*",65280,["band",1,t,e]],["*",255,["band",2,t,e]],["*",255/256,["band",3,t,e]],-32768]}const d=["*",2,["resolution"]],l=["*",["var","vert"],u(-1,0)],m=["/",["-",["*",["var","vert"],u(1,0)],l],d],v=["*",["var","vert"],u(0,-1)],b=["/",["-",["*",["var","vert"],u(0,1)],v],d],p=["atan",["sqrt",["+",["^",m,2],["^",b,2]]]],f=["clamp",["atan",["-",0,m],b],-Math.PI,Math.PI],w=["*",Math.PI/180,["var","sunEl"]],h=["*",255,["+",["*",["sin",w],["cos",p]],["*",["cos",w],["sin",p],["cos",["-",["*",Math.PI/180,["var","sunAz"]],f]]]]],E={},g=new o.A({source:new a.A({loader:async function(t,e,n,{signal:a}){const r=await s.getZxy(t,e,n,a),o=new Blob([r.data]),c=URL.createObjectURL(o),i=await function(t){return new Promise(((e,n)=>{const a=new Image;a.addEventListener("load",(()=>e(a))),a.addEventListener("error",(()=>n(new Error("load failed")))),a.src=t}))}(c);return URL.revokeObjectURL(c),i},wrapX:!0,maxZoom:9,attributions:"<a href='https://github.com/tilezen/joerd/blob/master/docs/attribution.md#attribution'>Tilezen Jörð</a>"}),style:{variables:E,color:["color",h]}});["vert","sunEl","sunAz"].forEach((function(t){const e=document.getElementById(t),n=document.getElementById(t+"Out");function a(){n.innerText=e.value,E[t]=Number(e.value)}a(),e.addEventListener("input",(function(){a(),g.updateStyleVariables(E)}))}));const y=new r.A({target:"map",layers:[g],view:new c.Ay({center:[0,0],zoom:1})});const I=document.getElementById("elevationOut"),x=document.getElementById("locationOut");y.on(["pointermove","click"],(function(t){const e=g.getData(t.pixel);e&&(I.innerText=function(t){return 256*t[0]+t[1]+t[2]/256-32768}(e).toLocaleString()+" m",x.innerText=function([t,e]){const n=e<0?"S":"N",a=t<0?"W":"E";return`${Math.abs(e).toFixed(1)}° ${n}, ${Math.abs(t).toFixed(1)}° ${a}`}(t.coordinate))}))}},function(t){var e;e=94350,t(t.s=e)}]);
//# sourceMappingURL=pmtiles-elevation.js.map