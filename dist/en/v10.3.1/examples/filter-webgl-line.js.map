{"version":3,"file":"filter-webgl-line.js","mappings":"2KASA,MAcMA,EAAU,CACd,8BACA,gCACA,gCACA,yBACA,6BAGIC,EAAS,IAAI,IAAa,CAC9BC,SAAU,KAGNC,EAAS,IAAI,IACnB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAQK,SAAUD,EACpCE,MAAMN,EAAQI,IACXG,MAAMC,GAASA,EAAKC,SACpBF,MAAMG,IACL,MAAMR,EAAWC,EAAOQ,aAAaD,EAAM,CACzCE,kBAAmB,cAErBX,EAAOY,YAAYX,EAAS,IAIlC,IAAIY,EAAY,SAChB,MAAMC,EAAc,IAAI,IAAiB,CACvCd,SACAe,MAzCgB,CAChB,eAAgB,EAChB,eAAgB,CACd,cACA,CAAC,UACD,CAAC,eACD,QACA,oBACA,SACA,oBAEFC,OAAQ,CAAC,KAAM,CAAC,eAAgB,CAAC,MAAO,eA+BxCC,UAAW,CACTJ,eAIEK,EAAM,IAAI,IAAI,CAClBC,OAAQ,CACN,IAAI,IAAU,CACZnB,OAAQ,IAAI,MAEdc,GAEFM,OAAQ,MACRC,KAAM,IAAI,KAAK,CACbC,OAAQ,CAAC,kBAAmB,mBAC5BC,KAAM,MAIV,SAASC,IACP,MAAMC,EAAW,IAAIC,KAAiB,IAAZb,GAC1Bc,SAASC,eAAe,cAAcC,YAAcJ,EAASK,aAC/D,CACAH,SAASC,eAAe,cAAcG,iBAAiB,SAAUC,IAC/DnB,EAAYoB,WAAWD,EAAMZ,OAAOc,OACpCpB,EAAYqB,qBAAqB,CAACtB,cAClCW,IACAN,EAAIkB,QAAQ,IAEdZ,G","sources":["webpack:///./filter-webgl-line.js"],"sourcesContent":["import IGC from '../src/ol/format/IGC.js';\nimport Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {\n  Tile as TileLayer,\n  WebGLVector as WebGLVectorLayer,\n} from '../src/ol/layer.js';\n\nconst lineStyle = {\n  'stroke-width': 4,\n  'stroke-color': [\n    'interpolate',\n    ['linear'],\n    ['line-metric'],\n    1303200000,\n    'hsl(312,100%,39%)',\n    1303240000,\n    'hsl(36,100%,45%)',\n  ],\n  filter: ['<=', ['line-metric'], ['var', 'timestamp']],\n};\n\nconst igcUrls = [\n  'data/igc/Clement-Latour.igc',\n  'data/igc/Damien-de-Baenst.igc',\n  'data/igc/Sylvain-Dhonneur.igc',\n  'data/igc/Tom-Payne.igc',\n  'data/igc/Ulrich-Prinz.igc',\n];\n\nconst source = new VectorSource({\n  features: [],\n});\n\nconst format = new IGC();\nfor (let i = 0; i < igcUrls.length; ++i) {\n  fetch(igcUrls[i])\n    .then((resp) => resp.text())\n    .then((data) => {\n      const features = format.readFeatures(data, {\n        featureProjection: 'EPSG:3857',\n      });\n      source.addFeatures(features);\n    });\n}\n\nlet timestamp = 1303240000;\nconst vectorLayer = new WebGLVectorLayer({\n  source,\n  style: lineStyle,\n  variables: {\n    timestamp,\n  },\n});\n\nconst map = new Map({\n  layers: [\n    new TileLayer({\n      source: new OSM(),\n    }),\n    vectorLayer,\n  ],\n  target: 'map',\n  view: new View({\n    center: [703365.7089403362, 5714629.865071137],\n    zoom: 9,\n  }),\n});\n\nfunction showTime() {\n  const dateTime = new Date(timestamp * 1000);\n  document.getElementById('time-value').textContent = dateTime.toUTCString();\n}\ndocument.getElementById('time-input').addEventListener('input', (event) => {\n  timestamp = parseFloat(event.target.value);\n  vectorLayer.updateStyleVariables({timestamp});\n  showTime();\n  map.render();\n});\nshowTime();\n"],"names":["igcUrls","source","features","format","i","length","fetch","then","resp","text","data","readFeatures","featureProjection","addFeatures","timestamp","vectorLayer","style","filter","variables","map","layers","target","view","center","zoom","showTime","dateTime","Date","document","getElementById","textContent","toUTCString","addEventListener","event","parseFloat","value","updateStyleVariables","render"],"sourceRoot":""}