"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5745],{28876:function(e,t,n){var o=n(41564),r=n(87240),a=n(77833),i=n(40878),l=n(74676),c=n(9444),s=n(12185),g=n(23986),u=n(28e3),w=n(29810),A=n(7074),d=n(88292),f=n(38276),m=n(44689),b=n(21133),y=n(59194),h=n(28656);const p=document.getElementById("type"),x=document.getElementById("segments"),k=document.getElementById("clear"),v=new d.Ay({fill:new f.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new m.A({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new b.A({radius:5,stroke:new m.A({color:"rgba(0, 0, 0, 0.7)"}),fill:new f.A({color:"rgba(255, 255, 255, 0.2)"})})}),C=new d.Ay({text:new y.A({font:"14px Calibri,sans-serif",fill:new f.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new f.A({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new h.A({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new f.A({color:"rgba(0, 0, 0, 0.7)"})})}),I=new d.Ay({text:new y.A({font:"12px Calibri,sans-serif",fill:new f.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new f.A({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),P=new d.Ay({image:new b.A({radius:5,stroke:new m.A({color:"rgba(0, 0, 0, 0.7)"}),fill:new f.A({color:"rgba(0, 0, 0, 0.4)"})}),text:new y.A({text:"Drag to modify",font:"12px Calibri,sans-serif",fill:new f.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new f.A({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),T=new d.Ay({text:new y.A({font:"12px Calibri,sans-serif",fill:new f.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new f.A({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new h.A({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new f.A({color:"rgba(0, 0, 0, 0.4)"})})}),G=[T],M=function(e){const t=(0,A.R3)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m",n},B=function(e){const t=(0,A.UG)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km²":Math.round(100*t)/100+" m²",n},F=new s.A({source:new u.A}),E=new w.A,S=new l.A({source:E,style:P});let D;function L(e,t,n,o){const r=[],l=e.getGeometry(),c=l.getType();let s,g,u;if(n&&n!==c&&"Point"!==c||(r.push(v),"Polygon"===c?(s=l.getInteriorPoint(),g=B(l),u=new a.A(l.getCoordinates()[0])):"LineString"===c&&(s=new i.A(l.getLastCoordinate()),g=M(l),u=l)),t&&u){let e=0;u.forEachSegment((function(t,n){const o=new a.A([t,n]),l=M(o);G.length-1<e&&G.push(T.clone());const c=new i.A(o.getCoordinateAt(.5));G[e].setGeometry(c),G[e].getText().setText(l),r.push(G[e]),e++}))}return g&&(C.setGeometry(s),C.getText().setText(g),r.push(C)),o&&"Point"===c&&!S.getOverlay().getSource().getFeatures().length&&(D=l,I.getText().setText(o),r.push(I)),r}const O=new g.A({source:E,style:function(e){return L(e,x.checked)}}),X=new o.A({layers:[F,O],target:"map",view:new r.Ay({center:[-11e6,46e5],zoom:15})});let Y;function z(){const e=p.value,t="Click to continue drawing the "+("Polygon"===e?"polygon":"line"),n="Click to start measuring";let o=n;Y=new c.Ay({source:E,type:e,style:function(t){return L(t,x.checked,e,o)}}),Y.on("drawstart",(function(){k.checked&&E.clear(),S.setActive(!1),o=t})),Y.on("drawend",(function(){P.setGeometry(D),S.setActive(!0),X.once("pointermove",(function(){P.setGeometry()})),o=n})),S.setActive(!0),X.addInteraction(Y)}X.addInteraction(S),p.onchange=function(){X.removeInteraction(Y),z()},z(),x.onchange=function(){O.changed(),Y.getOverlay().changed()}}},function(e){var t;t=28876,e(e.s=t)}]);
//# sourceMappingURL=measure-style.js.map