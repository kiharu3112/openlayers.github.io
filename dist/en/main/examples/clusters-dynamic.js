"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42],{54438:function(e,t,n){var o=n(51541),r=n(49208),a=n(15264),s=n(41564),i=n(87240);function c(e,t={}){const{sorted:n}=t;n||(e=e.slice().sort(l));const o=e.length,r=new Array(2*o);let a=0;for(let t=0;t<o;t++){const n=e[t];for(;a>=2&&g(r[a-2],r[a-1],n)<=0;)a--;r[a++]=n}const s=a+1;for(let t=o-2;t>=0;t--){const n=e[t];for(;a>=s&&g(r[a-2],r[a-1],n)<=0;)a--;r[a++]=n}return r.slice(0,a-1)}function g(e,t,n){return(t[1]-e[1])*(n[0]-e[0])-(t[0]-e[0])*(n[1]-e[1])}function l(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}var u=n(38276),w=n(44689),f=n(21133),m=n(75052),A=n(88292),h=n(59194),y=n(29810),p=n(28227),d=n(40878),b=n(77833),x=n(30470),v=n(23986),k=n(12185),G=n(16235),M=n(25231);const S=1,C=28,E=Math.PI/2,I=new u.A({color:"rgba(255, 153, 0, 0.4)"}),P=new w.A({color:"rgba(204, 85, 0, 1)",width:1.5}),R=new u.A({color:"rgba(255, 153, 102, 0.3)"}),F=new u.A({color:"rgba(255, 165, 0, 0.7)"}),Z=new u.A({color:"#fff"}),j=new w.A({color:"rgba(0, 0, 0, 0.6)",width:3}),z=new f.A({radius:14,fill:F}),T=new f.A({radius:20,fill:R}),V=new m.A({src:"data/icons/emoticon-cool.svg"}),q=new m.A({src:"data/icons/emoticon-cool-outline.svg"});function B(e){return new A.Ay({geometry:e.getGeometry(),image:e.get("LEISTUNG")>5?V:q})}let D,L,N;function O(e,t){if(e!==D||t!==L)return null;const n=e.get("features"),r=e.getGeometry().getCoordinates();return function(e,t,n){let o=S*C*(2+e)/(2*Math.PI);const r=2*Math.PI/e,a=[];let s;o=Math.max(o,35)*n;for(let n=0;n<e;++n)s=E+n*r,a.push([t[0]+o*Math.cos(s),t[1]+o*Math.sin(s)]);return a}(n.length,e.getGeometry().getCoordinates(),t).reduce(((e,t,a)=>{const s=new d.A(t),i=new b.A([r,t]);return e.unshift(new A.Ay({geometry:i,stroke:P})),e.push(B(new o.A({...n[a].getProperties(),geometry:s}))),e}),[])}function U(e){if(e!==N)return null;const t=e.get("features").map((e=>e.getGeometry().getCoordinates()));return new A.Ay({geometry:new x.Ay([c(t)]),fill:I,stroke:P})}const W=new y.A({format:new r.A,url:"data/geojson/photovoltaic.json"}),X=new p.A({attributions:'Data: <a href="https://www.data.gv.at/auftritte/?organisation=stadt-wien">Stadt Wien</a>',distance:35,source:W}),$=new v.A({source:X,style:U}),_=new v.A({source:X,style:function(e){const t=e.get("features").length;return t>1?[new A.Ay({image:T}),new A.Ay({image:z,text:new h.A({text:t.toString(),fill:Z,stroke:j})})]:B(e.get("features")[0])}}),H=new v.A({source:X,style:O}),J=new k.A({source:new a.A({attributions:'Base map: <a target="_blank" href="https://basemap.at/">basemap.at</a>',url:"https://maps{1-4}.wien.gv.at/basemap/bmapgrau/normal/google3857/{z}/{y}/{x}.png"})}),K=new s.A({layers:[J,$,_,H],target:"map",view:new i.Ay({center:[0,0],zoom:2,maxZoom:19,extent:[...(0,M.Rb)([16.1793,48.1124]),...(0,M.Rb)([16.5559,48.313])],showFullExtent:!0})});K.on("pointermove",(e=>{_.getFeatures(e.pixel).then((e=>{e[0]!==N&&(N=e[0],$.setStyle(U),K.getTargetElement().style.cursor=N&&N.get("features").length>1?"pointer":"")}))})),K.on("click",(e=>{_.getFeatures(e.pixel).then((e=>{if(e.length>0){const t=e[0].get("features");if(t.length>1){const n=(0,G.S5)();t.forEach((e=>(0,G.X$)(n,e.getGeometry().getExtent())));const o=K.getView(),r=K.getView().getResolution();o.getZoom()===o.getMaxZoom()||(0,G.RG)(n)<r&&(0,G.Oq)(n)<r?(D=e[0],L=r,H.setStyle(O)):o.fit(n,{duration:500,padding:[50,50,50,50]})}}}))}))}},function(e){var t;t=54438,e(e.s=t)}]);
//# sourceMappingURL=clusters-dynamic.js.map