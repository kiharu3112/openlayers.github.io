"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2204],{9508:function(e,t){function r(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function a(e){return"NUMPY"===r(e.slice(0,6)).slice(1,6)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromArrayBuffer=function(e){if(0===e.byteLength)return{};if(!a(e))throw new Error("Not a NumpyTile");var t,n=(u=e.slice(8,10),s=new DataView(u),c=s.getUint8(0),c|=s.getUint8(1)<<8),i=r(e.slice(10,10+n)),o=10+n,l=JSON.parse(i.toLowerCase().replace(/'/g,'"').replace(/\(/g,"[").replace(/\),/g,"]"));var u,s,c;if("|u1"===l.descr)t=new Uint8Array(e,o);else if("|i1"===l.descr)t=new Int8Array(e,o);else if("<u2"===l.descr)t=new Uint16Array(e,o);else if("<i2"===l.descr)t=new Int16Array(e,o);else if("<u4"===l.descr)t=new Uint32Array(e,o);else if("<i4"===l.descr)t=new Int32Array(e,o);else if("<f4"===l.descr)t=new Float32Array(e,o);else{if("<f8"!==l.descr)throw new Error("unknown numeric dtype");t=new Float64Array(e,o)}return{shape:l.shape,data:t}},t.isNumpyArr=a},90551:function(e,t,r){var a=r(9508),n=r(41564),i=r(87240),o=r(96256),l=r(25231),u=r(77779);const s=e=>["interpolate",["linear"],["band",e],["var","bMin"],0,["var","bMax"],1],c=3e3,d=18e3,p=new o.A({style:{color:["array",s(3),s(2),s(1),["band",5]],variables:{bMin:c,bMax:d}},source:new u.A({loader:function(e,t,r){const n=`https://api.cogeo.xyz/cog/tiles/WebMercatorQuad/${e}/${t}/${r}@1x?format=npy&url=${encodeURIComponent("https://storage.googleapis.com/open-cogs/stac-examples/20201211_223832_CS2_analytic.tif")}`;return fetch(n).then((e=>e.arrayBuffer())).then((e=>a.fromArrayBuffer(e))).then((e=>{const t=new Float32Array(327680),r=65536;for(let a=0;a<256;a++)for(let n=0;n<256;n++){const i=a+256*n;t[5*i+0]=e.data[256*n+a],t[5*i+1]=e.data[r+256*n+a],t[5*i+2]=e.data[131072+256*n+a],t[5*i+3]=e.data[196608+256*n+a],t[5*i+4]=e.data[262144+256*n+a]>0?1:0}return t}))},bandCount:5})}),f=(new n.A({target:"map",layers:[p],view:new i.Ay({center:(0,l.Rb)([172.933,1.3567]),zoom:15})}),document.getElementById("input-min")),y=document.getElementById("input-max"),w=document.getElementById("output-min"),m=document.getElementById("output-max");f.addEventListener("input",(e=>{p.updateStyleVariables({bMin:parseFloat(e.target.value),bMax:parseFloat(y.value)}),w.innerText=e.target.value})),y.addEventListener("input",(e=>{p.updateStyleVariables({bMin:parseFloat(f.value),bMax:parseFloat(e.target.value)}),m.innerText=e.target.value})),f.value=c,y.value=d,w.innerText=c,m.innerText=d}},function(e){var t;t=90551,e(e.s=t)}]);
//# sourceMappingURL=numpytile.js.map