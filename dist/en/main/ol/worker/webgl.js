
        export function create() {
          const source = "const t=\"GENERATE_POLYGON_BUFFERS\",e=\"GENERATE_POINT_BUFFERS\",n=\"GENERATE_LINE_STRING_BUFFERS\";function r(t,e,n=2){const r=e&&e.length,o=r?e[0]*n:t.length;let i=x(t,0,o,n,!0);const f=[];if(!i||i.next===i.prev)return f;let s,l,y;if(r&&(i=function(t,e,n,r){const o=[];for(let n=0,u=e.length;n<u;n++){const i=x(t,e[n]*r,n<u-1?e[n+1]*r:t.length,r,!1);i===i.next&&(i.steiner=!0),o.push(p(i))}o.sort(c);for(let t=0;t<o.length;t++)n=a(o[t],n);return n}(t,e,i,n)),t.length>80*n){s=1/0,l=1/0;let e=-1/0,r=-1/0;for(let x=n;x<o;x+=n){const n=t[x],o=t[x+1];n<s&&(s=n),o<l&&(l=o),n>e&&(e=n),o>r&&(r=o)}y=Math.max(e-s,r-l),y=0!==y?32767/y:0}return u(i,f,n,s,l,y,0),f}function x(t,e,n,r,x){let o;if(x===function(t,e,n,r){let x=0;for(let o=e,u=n-r;o<n;o+=r)x+=(t[u]-t[o])*(t[o+1]+t[u+1]),u=o;return x}(t,e,n,r)>0)for(let x=e;x<n;x+=r)o=E(x/r|0,t[x],t[x+1],o);else for(let x=n-r;x>=e;x-=r)o=E(x/r|0,t[x],t[x+1],o);return o&&Z(o,o.next)&&(I(o),o=o.next),o}function o(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!Z(r,r.next)&&0!==b(r.prev,r,r.next))r=r.next;else{if(I(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function u(t,e,n,r,x,c,a){if(!t)return;!a&&c&&function(t,e,n,r){let x=t;do{0===x.z&&(x.z=h(x.x,x.y,e,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==t);x.prevZ.nextZ=null,x.prevZ=null,function(t){let e,n=1;do{let r,x=t;t=null;let o=null;for(e=0;x;){e++;let u=x,i=0;for(let t=0;t<n&&(i++,u=u.nextZ,u);t++);let f=n;for(;i>0||f>0&&u;)0!==i&&(0===f||!u||x.z<=u.z)?(r=x,x=x.nextZ,i--):(r=u,u=u.nextZ,f--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;x=u}o.nextZ=null,n*=2}while(e>1)}(x)}(t,r,x,c);let y=t;for(;t.prev!==t.next;){const h=t.prev,p=t.next;if(c?f(t,r,x,c):i(t))e.push(h.i,t.i,p.i),I(t),t=p.next,y=p.next;else if((t=p)===y){a?1===a?u(t=s(o(t),e),e,n,r,x,c,2):2===a&&l(t,e,n,r,x,c):u(o(t),e,n,r,x,c,1);break}}}function i(t){const e=t.prev,n=t,r=t.next;if(b(e,n,r)>=0)return!1;const x=e.x,o=n.x,u=r.x,i=e.y,f=n.y,s=r.y,l=x<o?x<u?x:u:o<u?o:u,c=i<f?i<s?i:s:f<s?f:s,a=x>o?x>u?x:u:o>u?o:u,y=i>f?i>s?i:s:f>s?f:s;let h=r.next;for(;h!==e;){if(h.x>=l&&h.x<=a&&h.y>=c&&h.y<=y&&v(x,i,o,f,u,s,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function f(t,e,n,r){const x=t.prev,o=t,u=t.next;if(b(x,o,u)>=0)return!1;const i=x.x,f=o.x,s=u.x,l=x.y,c=o.y,a=u.y,y=i<f?i<s?i:s:f<s?f:s,p=l<c?l<a?l:a:c<a?c:a,g=i>f?i>s?i:s:f>s?f:s,Z=l>c?l>a?l:a:c>a?c:a,d=h(y,p,e,n,r),M=h(g,Z,e,n,r);let w=t.prevZ,m=t.nextZ;for(;w&&w.z>=d&&m&&m.z<=M;){if(w.x>=y&&w.x<=g&&w.y>=p&&w.y<=Z&&w!==x&&w!==u&&v(i,l,f,c,s,a,w.x,w.y)&&b(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,m.x>=y&&m.x<=g&&m.y>=p&&m.y<=Z&&m!==x&&m!==u&&v(i,l,f,c,s,a,m.x,m.y)&&b(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;w&&w.z>=d;){if(w.x>=y&&w.x<=g&&w.y>=p&&w.y<=Z&&w!==x&&w!==u&&v(i,l,f,c,s,a,w.x,w.y)&&b(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;m&&m.z<=M;){if(m.x>=y&&m.x<=g&&m.y>=p&&m.y<=Z&&m!==x&&m!==u&&v(i,l,f,c,s,a,m.x,m.y)&&b(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function s(t,e){let n=t;do{const r=n.prev,x=n.next.next;!Z(r,x)&&d(r,n,n.next,x)&&m(r,x)&&m(x,r)&&(e.push(r.i,n.i,x.i),I(n),I(n.next),n=t=x),n=n.next}while(n!==t);return o(n)}function l(t,e,n,r,x,i){let f=t;do{let t=f.next.next;for(;t!==f.prev;){if(f.i!==t.i&&g(f,t)){let s=A(f,t);return f=o(f,f.next),s=o(s,s.next),u(f,e,n,r,x,i,0),void u(s,e,n,r,x,i,0)}t=t.next}f=f.next}while(f!==t)}function c(t,e){return t.x-e.x}function a(t,e){const n=function(t,e){let n=e;const r=t.x,x=t.y;let o,u=-1/0;do{if(x<=n.y&&x>=n.next.y&&n.next.y!==n.y){const t=n.x+(x-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>u&&(u=t,o=n.x<n.next.x?n:n.next,t===r))return o}n=n.next}while(n!==e);if(!o)return null;const i=o,f=o.x,s=o.y;let l=1/0;n=o;do{if(r>=n.x&&n.x>=f&&r!==n.x&&v(x<s?r:u,x,f,s,x<s?u:r,x,n.x,n.y)){const e=Math.abs(x-n.y)/(r-n.x);m(n,t)&&(e<l||e===l&&(n.x>o.x||n.x===o.x&&y(o,n)))&&(o=n,l=e)}n=n.next}while(n!==i);return o}(t,e);if(!n)return e;const r=A(n,t);return o(r,r.next),o(n,n.next)}function y(t,e){return b(t.prev,t,e.prev)<0&&b(e.next,t,t.next)<0}function h(t,e,n,r,x){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,x,o,u,i){return(x-u)*(e-i)>=(t-u)*(o-i)&&(t-u)*(r-i)>=(n-u)*(e-i)&&(n-u)*(o-i)>=(x-u)*(r-i)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&d(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(m(t,e)&&m(e,t)&&function(t,e){let n=t,r=!1;const x=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&x<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(b(t.prev,t,e.prev)||b(t,e.prev,e))||Z(t,e)&&b(t.prev,t,t.next)>0&&b(e.prev,e,e.next)>0)}function b(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Z(t,e){return t.x===e.x&&t.y===e.y}function d(t,e,n,r){const x=w(b(t,e,n)),o=w(b(t,e,r)),u=w(b(n,r,t)),i=w(b(n,r,e));return x!==o&&u!==i||(!(0!==x||!M(t,n,e))||(!(0!==o||!M(t,r,e))||(!(0!==u||!M(n,t,r))||!(0!==i||!M(n,e,r)))))}function M(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function w(t){return t>0?1:t<0?-1:0}function m(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function A(t,e){const n=z(t.i,t.x,t.y),r=z(e.i,e.x,e.y),x=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=x,x.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function E(t,e,n,r){const x=z(t,e,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function I(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function z(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function F(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function P(t,e){const n=(r=e)[0]*r[3]-r[1]*r[2];var r;!function(t,e){if(!t)throw new Error(e)}(0!==n,\"Transformation matrix cannot be inverted\");const x=e[0],o=e[1],u=e[2],i=e[3],f=e[4],s=e[5];return t[0]=i/n,t[1]=-o/n,t[2]=-u/n,t[3]=x/n,t[4]=(u*s-i*f)/n,t[5]=-(x*s-o*f)/n,t}new Array(6);const B=[],N={vertexPosition:0,indexPosition:0};function R(t,e,n,r,x){t[e+0]=n,t[e+1]=r,t[e+2]=x}function S(t,e,n,r,x,o){const u=3+x,i=t[e+0],f=t[e+1],s=B;s.length=x;for(let n=0;n<s.length;n++)s[n]=t[e+2+n];let l=o?o.vertexPosition:0,c=o?o.indexPosition:0;const a=l/u;return R(n,l,i,f,0),s.length&&n.set(s,l+3),l+=u,R(n,l,i,f,1),s.length&&n.set(s,l+3),l+=u,R(n,l,i,f,2),s.length&&n.set(s,l+3),l+=u,R(n,l,i,f,3),s.length&&n.set(s,l+3),l+=u,r[c++]=a,r[c++]=a+1,r[c++]=a+3,r[c++]=a+1,r[c++]=a+2,r[c++]=a+3,N.vertexPosition=l,N.indexPosition=c,N}function T(t,e,n,r,x,o,u,i,f,s,l){const c=10+i.length,a=o.length/c,y=[t[e+0],t[e+1]],h=[t[n],t[n+1]],p=t[e+2],v=t[n+2],g=F(f,[...y]),b=F(f,[...h]);function Z(t,e,n){const r=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),x=[(e[0]-t[0])/r,(e[1]-t[1])/r],o=[-x[1],x[0]],u=Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])),i=[(n[0]-t[0])/u,(n[1]-t[1])/u],f=0===r||0===u?0:Math.acos((s=i[0]*x[0]+i[1]*x[1],l=-1,c=1,Math.min(Math.max(s,l),c)));var s,l,c;return i[0]*o[0]+i[1]*o[1]>0?f:2*Math.PI-f}let d=-1,M=-1,w=l;const m=null!==x;if(null!==r){d=Z(g,b,F(f,[...[t[r],t[r+1]]])),Math.cos(d)<=.985&&(w+=Math.tan((d-Math.PI)/2))}if(m){M=Z(b,g,F(f,[...[t[x],t[x+1]]])),Math.cos(M)<=.985&&(w+=Math.tan((Math.PI-M)/2))}function A(t,e){return 0===e?1e4*t:Math.sign(e)*(1e4*t+Math.abs(e))}return o.push(y[0],y[1],p,h[0],h[1],v,d,M,s,A(0,l)),o.push(...i),o.push(y[0],y[1],p,h[0],h[1],v,d,M,s,A(1,l)),o.push(...i),o.push(y[0],y[1],p,h[0],h[1],v,d,M,s,A(2,l)),o.push(...i),o.push(y[0],y[1],p,h[0],h[1],v,d,M,s,A(3,l)),o.push(...i),u.push(a,a+1,a+2,a+1,a+3,a+2),{length:s+Math.sqrt((b[0]-g[0])*(b[0]-g[0])+(b[1]-g[1])*(b[1]-g[1])),angle:w}}function _(t,e,n,x,o){const u=2+o;let i=e;const f=t.slice(i,i+o);i+=o;const s=t[i++];let l=0;const c=new Array(s-1);for(let e=0;e<s;e++)l+=t[i++],e<s-1&&(c[e]=l);const a=t.slice(i,i+2*l),y=r(a,c,2);for(let t=0;t<y.length;t++)x.push(y[t]+n.length/u);for(let t=0;t<a.length;t+=2)n.push(a[t],a[t+1],...f);return i+2*l}const O=self;O.onmessage=r=>{const x=r.data;switch(x.type){case e:{const t=3,e=2,n=x.customAttributesSize,r=e+n,o=new Float32Array(x.renderInstructions),u=o.length/r,i=4*u*(n+t),f=new Uint32Array(6*u),s=new Float32Array(i);let l;for(let t=0;t<o.length;t+=r)l=S(o,t,s,f,n,l);const c=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:o.buffer},x);O.postMessage(c,[s.buffer,f.buffer,o.buffer]);break}case n:{const t=[],e=[],n=x.customAttributesSize,r=3,o=new Float32Array(x.renderInstructions);let u=0;const i=[1,0,0,1,0,0];let f,s;for(P(i,x.renderInstructionsTransform);u<o.length;){s=Array.from(o.slice(u,u+n)),u+=n,f=o[u++];const x=u,l=u+(f-1)*r,c=o[x]===o[l]&&o[x+1]===o[l+1];let a=0,y=0;for(let n=0;n<f-1;n++){let h=null;n>0?h=u+(n-1)*r:c&&(h=l-r);let p=null;n<f-2?p=u+(n+2)*r:c&&(p=x+r);const v=T(o,u+n*r,u+(n+1)*r,h,p,t,e,s,i,a,y);a=v.length,y=v.angle}u+=f*r}const l=Uint32Array.from(e),c=Float32Array.from(t),a=Object.assign({vertexBuffer:c.buffer,indexBuffer:l.buffer,renderInstructions:o.buffer},x);O.postMessage(a,[c.buffer,l.buffer,o.buffer]);break}case t:{const t=[],e=[],n=x.customAttributesSize,r=new Float32Array(x.renderInstructions);let o=0;for(;o<r.length;)o=_(r,o,t,e,n);const u=Uint32Array.from(e),i=Float32Array.from(t),f=Object.assign({vertexBuffer:i.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},x);O.postMessage(f,[i.buffer,u.buffer,r.buffer]);break}}};";
          return new Worker(typeof Blob === 'undefined'
            ? 'data:application/javascript;base64,' + Buffer.from(source, 'binary').toString('base64')
            : URL.createObjectURL(new Blob([source], {type: 'application/javascript'})));
        }
      
