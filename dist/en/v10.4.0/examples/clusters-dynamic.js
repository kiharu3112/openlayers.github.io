"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42],{54438:function(e,t,n){function o(e,t={}){const{sorted:n}=t;n||(e=e.slice().sort(a));const o=e.length,s=new Array(2*o);let i=0;for(let t=0;t<o;t++){const n=e[t];for(;i>=2&&r(s[i-2],s[i-1],n)<=0;)i--;s[i++]=n}const c=i+1;for(let t=o-2;t>=0;t--){const n=e[t];for(;i>=c&&r(s[i-2],s[i-1],n)<=0;)i--;s[i++]=n}return s.slice(0,i-1)}function r(e,t,n){return(t[1]-e[1])*(n[0]-e[0])-(t[0]-e[0])*(n[1]-e[1])}function a(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}var s=n(51541),i=n(41564),c=n(87240),g=n(16235),l=n(49208),u=n(77833),w=n(40878),f=n(30470),m=n(12185),A=n(23986),h=n(25231),y=n(28227),p=n(15264),d=n(29810),b=n(21133),x=n(38276),k=n(75052),v=n(44689),G=n(88292),M=n(59194);const S=1,C=28,E=Math.PI/2,I=new x.A({color:"rgba(255, 153, 0, 0.4)"}),P=new v.A({color:"rgba(204, 85, 0, 1)",width:1.5}),R=new x.A({color:"rgba(255, 153, 102, 0.3)"}),F=new x.A({color:"rgba(255, 165, 0, 0.7)"}),Z=new x.A({color:"#fff"}),j=new v.A({color:"rgba(0, 0, 0, 0.6)",width:3}),z=new b.A({radius:14,fill:F}),T=new b.A({radius:20,fill:R}),V=new k.A({src:"data/icons/emoticon-cool.svg"}),q=new k.A({src:"data/icons/emoticon-cool-outline.svg"});function B(e){return new G.Ay({geometry:e.getGeometry(),image:e.get("LEISTUNG")>5?V:q})}let D,L,N;function O(e,t){if(e!==D||t!==L)return null;const n=e.get("features"),o=e.getGeometry().getCoordinates();return function(e,t,n){let o=S*C*(2+e)/(2*Math.PI);const r=2*Math.PI/e,a=[];let s;o=Math.max(o,35)*n;for(let n=0;n<e;++n)s=E+n*r,a.push([t[0]+o*Math.cos(s),t[1]+o*Math.sin(s)]);return a}(n.length,e.getGeometry().getCoordinates(),t).reduce(((e,t,r)=>{const a=new w.A(t),i=new u.A([o,t]);return e.unshift(new G.Ay({geometry:i,stroke:P})),e.push(B(new s.A({...n[r].getProperties(),geometry:a}))),e}),[])}function U(e){if(e!==N)return null;const t=e.get("features").map((e=>e.getGeometry().getCoordinates()));return new G.Ay({geometry:new f.Ay([o(t)]),fill:I,stroke:P})}const W=new d.A({format:new l.A,url:"data/geojson/photovoltaic.json"}),X=new y.A({attributions:'Data: <a href="https://www.data.gv.at/auftritte/?organisation=stadt-wien">Stadt Wien</a>',distance:35,source:W}),$=new A.A({source:X,style:U}),_=new A.A({source:X,style:function(e){const t=e.get("features").length;return t>1?[new G.Ay({image:T}),new G.Ay({image:z,text:new M.A({text:t.toString(),fill:Z,stroke:j})})]:B(e.get("features")[0])}}),H=new A.A({source:X,style:O}),J=new m.A({source:new p.A({attributions:'Base map: <a target="_blank" href="https://basemap.at/">basemap.at</a>',url:"https://maps{1-4}.wien.gv.at/basemap/bmapgrau/normal/google3857/{z}/{y}/{x}.png"})}),K=new i.A({layers:[J,$,_,H],target:"map",view:new c.Ay({center:[0,0],zoom:2,maxZoom:19,extent:[...(0,h.Rb)([16.1793,48.1124]),...(0,h.Rb)([16.5559,48.313])],showFullExtent:!0})});K.on("pointermove",(e=>{_.getFeatures(e.pixel).then((e=>{e[0]!==N&&(N=e[0],$.setStyle(U),K.getTargetElement().style.cursor=N&&N.get("features").length>1?"pointer":"")}))})),K.on("click",(e=>{_.getFeatures(e.pixel).then((e=>{if(e.length>0){const t=e[0].get("features");if(t.length>1){const n=(0,g.S5)();t.forEach((e=>(0,g.X$)(n,e.getGeometry().getExtent())));const o=K.getView(),r=K.getView().getResolution();o.getZoom()===o.getMaxZoom()||(0,g.RG)(n)<r&&(0,g.Oq)(n)<r?(D=e[0],L=r,H.setStyle(O)):o.fit(n,{duration:500,padding:[50,50,50,50]})}}}))}))}},function(e){var t;t=54438,e(e.s=t)}]);
//# sourceMappingURL=clusters-dynamic.js.map